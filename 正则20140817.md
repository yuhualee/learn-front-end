Date: 2014-08-17  
Title: 正则    

1. null是主动的不存在，undefined是意外的不存在。
> document.parentNode    null;系统级属性，不存在，预留出来的。
> document.parentnode    undefined;不存在这个属性。
2. 课下查一个概念：活动对象 方法运行的那个内存块叫做活动对象
3. fn.call()//call里的this是fn，call里的this是谁和fn的this是谁不是一回事




# 正则
### 定义正则
1. var reg = /^\d+$   //直接量，直接写死了一个正则
2. var reg = new RegExp("\\d+$");  //可以根据动态生成一个正则表达式
3. test负责匹配，exec负责捕获
>
```
var str1 = "fadgdf788f9dg89af89fd";
var reg1 = /\d+/;  //量词一定要出现在表示字符的原子的后边。在量词后加一个？
var reg2 = /\d+?/;
//表示位置的字符 ^ $, ^是修饰后面的，$是修饰前面的
var reg3 = /[^.]/;   //所有的正则中的单个特殊字符，在[]中，都不表示特殊的含义
var reg4 = /[.\n]/;  //仅表示匹配.点和回车中的一个；
var reg5 = /(.|\n)/;  //这 样才表示任何字符和回车，即所有字符
var reg6 = /[\s\S]/;  //这样也表示匹配所有字符
alert(reg.test(str1));  //test负责匹配
alert(reg.exec(str1));  //exec负责捕获
```
> 所有正则当中的单个特殊字符，在[]中，都不表示特殊的含义

4. var reg = /^([a-z]+)(/d+)([a-z]+)$/i;  //匹配左右两边是字符，中间是数字
> //一个总正则，三个子正则，其中“+”是{1，}1到多次的意思，不是连接符的意思。
> 
```
var str = "abcd68899dfdsf";
var reg = /^([a-z]+)(/d+)([a-z]+)$/i;
var reg1 = /[a-z]\d+[a-z]/i;
console.log(reg.exec(str));
console.log(reg1.exec(str));
var a = reg.exec(str);
a.length = 4;
a.index = 0;
a.input == str;
a[1];
```
> * 分组引用：\i表示此位置和第n个分组的内容一致，前提是此正则有分组
> * 如果想引用分组，则不可以加?:不捕获
5. 匹配不捕获
> 
```
var str = "abcd68899dfdsf";
var reg = /^(?:[a-z]+)(/d+)(?:[a-z]+)$/i;
var reg1 = /[a-z]\d+[a-z]/i;
console.log(reg.exec(str));
console.log(reg1.exec(str));
var a = reg.exec(str);
a.length = 4;
a.index = 0;
a.input == str;
a[1];
```
> p j 
> 
> 
6. 循环查找字符串
>
```
var str = "abfdf69979gdg9fd8f9dfdf0d0d8f0d0fd0f";
var reg = /[a-z](\d+)[a-z]/ig;
var resule = null;
var a = [];
while(result=reg.exec(str)){
  a.push(result);
}
console.log(a);
```
> //正则类类上的方法加上g之后，也不会自动的去查找，只是修改正则实例上的lastIndex属性
> //不加g，lastIndex就一直为0
> //reg.test(str)也会个性lastIndex的值
>
```
var str1 = "gdafd6asf";
var str2 = "fdsg8gfd";
var reg = /[a-z]\d+/ig;
alert(reg.test(str1));   //true
//reg.lastIndex = null;
alert(reg.test(str2));   //false
```
> //同一个reg.lastIndex已经被个性

7. 字符串match方法循环输出查找结果
>
```
var str = "df8f7ds8f97ds8f97ds8f97ad8s9f7a9sf";
var reg = /[a-z](\d+)[a-z]/ig;
var a = str.match(reg);
console.log(a);
```
> //如果不加g，match和exec功能一样
8. 值类型的实例：所有的值类型数据的方法，都不能修改实例本身，因为它每次使用的时候，都是重新创建一个对象。
>
```
var str = "gg788daf98df";
var b = str.replace("7","*");
alert(b);
alert(str);
```
```
var str = "gg788daf98df";
var b = str.replace(/\d/g,"*");
alert(b);
var str2 = "帅哥你好,美女你好";
var c = str2.replace(/(帅哥)(你好)/,"$2$1");
alert(c);
```
9. replace不带分组的情况
>
```
var str = '1234567890';
var a = ['零','壹','贰','叁','肆','伍','陆','柒','捌','玖'];
var a = str.replace(/\d/g, function () {
  //第一个参数：匹配到的结果; 
  //第二个参数：匹配到的结果在输入字符串中的位置; 
  //第三个参数：是输入字符串;
  //这个顺序的前提是正则没有分组;
  console.log(arguments[0]);
  console.log(arguments[1]);
  console.log(arguments[2]);
  return a[arguments[0]];
});
console.log(a);
console.log(str);
```
10. replace 正则分组情况
>
```
var str = "My name is {0}.I am {1} years old.I am in class {2} grade {3}.";
var a = ["李玉华",28,2014,5];
str.replace(/{\d}/g,function(result){
  return a[result.match(/\d/)[0]];  //
});
```
```
var str = 'My name is {0}.I am {1} years old.I am in class {2} grade {3}.';
var a = ['李玉华',28,2014,5];
str.replace(/{(\d)}/g, function (result, child) {
  return a[child];
  //return a[arguments[1]];
});
```
> //如果正则里出现了分组，则从第二个参数开始，依次传进来的参数是分组捕获的结果，总正则开始的位置和输入字符串依次后延
> 
> //添加一个分组就添加一个参数，可以用传参，也可以用arguments[];
11. 


## 面试题
#### 1、去掉重复的字符

```
var str = '4555640043aaaabbcdd333555';
var reg = /(\w)\1+/g;
console.log(str.replace(reg, '$1'));
```

## 练习：代码格式化
### View

* Toggle live preview: Shift + Cmd + I   切换左右
* Toggle Words Counter: Shift + Cmd + W  关闭
* Toggle Transparent: Shift + Cmd + T  
* Toggle Floating: Shift + Cmd + F  
* Left/Right = 1/1: Cmd + 0   平分窗口
* Left/Right = 3/1: Cmd + +   黑变大
* Left/Right = 1/3: Cmd + -   黑变小
* Toggle Writing orientation: Cmd + L   
* Toggle fullscreen: Control + Cmd + F   搜索

#### Actions

* Copy HTML: Option + Cmd + C  复制
* Strong: Select text, Cmd + B  加粗
* Emphasize: Select text, Cmd + I   斜体
* Inline Code: Select text, Cmd + K  `代码块`
* Strikethrough: Select text, Cmd + U  ~~划掉~~
* Link: Select text, Control + Shift + L  
* Image: Select text, Control + Shift + I   ![image](http://)
* Select Word: Control + Option + W    
* Select Line: Shift + Cmd + L  选择整行
* Select All: Cmd + A   选择全部
* Deselect All: Cmd + D   删除全部
* Convert to Uppercase: Select text, Control + U  变大写
* Convert to Lowercase: Select text, Control + Shift + U   小写
* Convert to Titlecase: Select text, Control + Option + U  选词
* Convert to List: Select lines, Control + L
* Convert to Blockquote: Select lines, Control + Q
* Convert to H1: Cmd + 1
* Convert to H2: Cmd + 2
* Convert to H3: Cmd + 3
* Convert to H4: Cmd + 4
* Convert to H5: Cmd + 5
* Convert to H6: Cmd + 6
* Convert Spaces to Tabs: Control + [
* Convert Tabs to Spaces: Control + ]
* Insert Current Date: Control + Shift + 1
* Insert Current Time: Control + Shift + 2
* Insert entity <: Control + Shift + ,
* Insert entity >: Control + Shift + .
* Insert entity &: Control + Shift + 7
* Insert entity Space: Control + Shift + Space
* Insert Scriptogr.am Header: Control + Shift + G
* Shift Line Left: Select lines, Cmd + [
* Shift Line Right: Select lines, Cmd + ]
* New Line: Cmd + Return
* Comment: Cmd + /
* Hard Linebreak: Control + Return

#### Edit

* Auto complete current word: Esc
* Find: Cmd + F
* Close find bar: Esc

#### Post

* Post on Scriptogr.am: Control + Shift + S
* Post on Tumblr: Control + Shift + T

#### Export

* Export HTML: Option + Cmd + E
* Export PDF:  Option + Cmd + P





***
---
---




An email <example@example.com> link.

Simple inline link <http://chenluois.com>, another inline link [Smaller](http://smallerapp.com), one more inline link with title [Resize](http://resizesafari.com "a Safari extension").

A [reference style][id] link. Input id, then anywhere in the doc, define the link with corresponding id:

[id]: http://mouapp.com "Markdown editor on Mac OS X"

Titles ( or called tool tips ) in the links are optional.

#### Images

An inline image ![Smaller icon](http://smallerapp.com/favicon.ico "Title here"), title is optional.

A ![Resize icon][2] reference style image.

[2]: http://resizesafari.com/favicon.ico "Title"

#### Inline code and Block code

Inline code are surround by `backtick` key. To create a block code:

	Indent each line by at least 1 tab, or 4 spaces.
    var Mou = exactlyTheAppIwant; 

####  Ordered Lists

Ordered lists are created using "1." + Space:

1. Ordered list item
2. Ordered list item
3. Ordered list item

#### Unordered Lists

Unordered list are created using "*" + Space:

* Unordered list item
* Unordered list item
* Unordered list item 

Or using "-" + Space:

- Unordered list item
- Unordered list item
- Unordered list item

#### Hard Linebreak

End a line with two or more spaces will create a hard linebreak, called `<br />` in HTML. ( Control + Return )  
Above line ended with 2 spaces.

#### Horizontal Rules

Three or more asterisks or dashes:

***

---

- - - -

#### Headers

Setext-style:

This is H1
==========

This is H2
----------

atx-style:

# This is H1
## This is H2
### This is H3
#### This is H4
##### This is H5
###### This is H6


### Extra Syntax

#### Footnotes

Footnotes work mostly like reference-style links. A footnote is made of two things: a marker in the text that will become a superscript number; a footnote definition that will be placed in a list of footnotes at the end of the document. A footnote looks like this:

That's some text with a footnote.[^1]

[^1]: And that's the footnote.


#### Strikethrough

Wrap with 2 tilde characters:

~~Strikethrough~~


#### Fenced Code Blocks

Start with a line containing 3 or more backticks, and ends with the first line with the same number of backticks:

```
Fenced code blocks are like Stardard Markdown’s regular code
blocks, except that they’re not indented and instead rely on
a start and end fence lines to delimit the code block.
```

#### Tables

A simple table looks like this:

First Header | Second Header | Third Header
------------ | ------------- | ------------
Content Cell | Content Cell  | Content Cell
Content Cell | Content Cell  | Content Cell

If you wish, you can add a leading and tailing pipe to each line of the table:

| First Header | Second Header | Third Header |
| ------------ | ------------- | ------------ |
| Content Cell | Content Cell  | Content Cell |
| Content Cell | Content Cell  | Content Cell |

Specify alignement for each column by adding colons to separator lines:

First Header | Second Header | Third Header
:----------- | :-----------: | -----------:
Left         | Center        | Right
Left         | Center        | Right


### Shortcuts


### And more?

Don't forget to check Preferences, lots of useful options are there.

Follow [@chenluois](http://twitter.com/chenluois) on Twitter for the latest news.

For feedback, use the menu `Help` - `Send Feedback`